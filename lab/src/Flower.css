body {
  width: 100vw;
  height: 100vh;
  background: radial-gradient(circle at 50% 65%, rgb(150, 20, 20) 0%, rgb(0, 0, 0) 130%);
}

.fullGroup {
  --w: 200px;
  --h: 400px;
  --col1: rgb(50, 150, 50);
  --col2: brown;
  --col3: yellow;
  --box-col1: rgb(255, 255, 255);
  --box-col2: rgb(55, 155, 55);
  --box-col3: rgb(240, 230, 230);
  --box-col4: rgb(230, 220, 230);
  --ball-col1: red;
  --ball-col2: white;
  --ball-col3: yellow;
  --star-col: white;
  --easing: cubic-bezier(0.25, 0, 1, 1);
  --easing-time: 0.15s;
  --tree-delay: 0;
  --box-open-delay: 0;
  --box-rot-delay: 0.3;
  --scale: 0;
  --star-scale: 1;
  --tree-up: 0;
  --cover-open: 90deg;
  --rot-fixed: 210deg;
  --box-rot: var(--rot-fixed);
  --tree-rot-fixed: calc(var(--rot-fixed) * -1);
  --float: floatAniKey;

  perspective: 1000px;
  position: absolute;
  left: calc(50vw - 0.5 * var(--w));
  top: calc(45vh - 0.5 * var(--h));
  width: var(--w);
  height: var(--h);

  animation-name: var(--float);
  animation-duration: 3s;
  animation-iteration-count: infinite;
  animation-timing-function: cubic-bezier(0.25, 0, 0.75, 1);
}

.treeGroup {
  position: absolute;
  left: calc(var(--w) * -0.25);
  bottom: calc(0.2 * var(--h));
  width: var(--w);
  height: var(--h);
  transition-property: all;
  transition-duration: calc(var(--easing-time) * 1.1);
  transition-timing-function: var(--easing);
  transition-delay: calc(var(--box-open-delay) * 1.5s);
  transform-origin: 50% 100%;
  transform-style: preserve-3d;
  transform: scale(var(--scale)) rotateY(var(--tree-rot-fixed));
}

.trunk {
  position: absolute;
  left: calc(0.5 * (0.85 * var(--w)));
  bottom: 0;
  width: calc(0.15 * var(--w));
  height: calc(0.15 * var(--h));
  background: var(--col2);
}

.leaveGroup {
  --up: 1;
  --up-bottom: calc(var(--h) * var(--up) * 0.25 * 0.5 * var(--tree-up));
  position: absolute;
  left: 0;
  bottom: var(--up-bottom);
  height: calc(var(--h) * 0.25);
  width: var(--w);
  transition-property: all;
  transition-duration: var(--easing-time);
  transition-timing-function: var(--easing);
  transition-delay: calc(var(--tree-delay) * var(--up) * 0.02s);
}

.leave {
  --scale: 1;
  position: absolute;
  left: 0;
  bottom: 0;
  height: calc(var(--h) * 0.25);
  width: var(--w);
  background: var(--col1);
  transform-origin: 50% 100%;
  transform: scale(var(--scale));
  clip-path: polygon(50% 0%, 100% 100%, 0% 100%, 50% 0%);
}

.topStarGroup {
  --up: 4.15;
  --up-bottom: calc(var(--h) * var(--up) * 0.25 * 0.5 * var(--tree-up));
  position: absolute;
  left: calc(0.5 * (0.75 * var(--w)));
  bottom: var(--up-bottom);
  height: calc(var(--w) * 0.25);
  width: calc(var(--w) * 0.25);
  transform: scale(var(--scale));
  transition-property: all;
  transition-duration: var(--easing-time);
  transition-timing-function: var(--easing);
  transition-delay: calc(var(--tree-delay) * var(--up) * 0.1s);
}

.topStarCorner {
  --angle: 0deg;
  position: absolute;
  left: 0;
  top: 0;
  height: calc(var(--w) * 0.25);
  width: calc(var(--w) * 0.25);
  transform: rotate(var(--angle));
  clip-path: polygon(50% 0%, 75% 50%, 25% 50%, 50% 0%);
  background: var(--col3);
}

.ballGroup {
  position: absolute;
  left: 0;
  bottom: 0;
  width: var(--w);
  height: var(--h);
  transition: all var(--easing-time) var(--easing);
  transform-origin: 50% 100%;
  transform: scale(var(--scale));
  background: radial-gradient(circle at 72% 83%, var(--ball-col3) 0%, var(--ball-col3) 2%, transparent 2%),
    radial-gradient(circle at 47% 79%, var(--ball-col2) 0%, var(--ball-col2) 2%, transparent 2%),
    radial-gradient(circle at 18% 85%, var(--ball-col1) 0%, var(--ball-col1) 2%, transparent 2%),
    radial-gradient(circle at 32% 71%, var(--ball-col3) 0%, var(--ball-col3) 2%, transparent 2%),
    radial-gradient(circle at 51% 65%, var(--ball-col2) 0%, var(--ball-col2) 2%, transparent 2%),
    radial-gradient(circle at 65% 69%, var(--ball-col1) 0%, var(--ball-col1) 2%, transparent 2%),
    radial-gradient(circle at 66% 58%, var(--ball-col3) 0%, var(--ball-col3) 2%, transparent 2%),
    radial-gradient(circle at 45% 52%, var(--ball-col2) 0%, var(--ball-col2) 2%, transparent 2%),
    radial-gradient(circle at 30% 60%, var(--ball-col1) 0%, var(--ball-col1) 2%, transparent 2%);
}

.boxGroup {
  transform-style: preserve-3d;
  position: absolute;
  left: calc(var(--w) * 0.25);
  bottom: 0;
  width: calc(var(--w) * 0.5);
  height: calc(var(--w) * 0.5);
  transform: rotateY(45deg);
  transition-property: all;
  transition-duration: var(--easing-time);
  transition-timing-function: var(--easing);
  transition-delay: calc(var(--box-rot-delay) * 1s);
  transform-origin: 50% 100%;
  transform: rotateY(var(--box-rot));
}

.boxFace {
  transform-style: preserve-3d;
  position: absolute;
  left: 0;
  bottom: 0;
  width: calc(var(--w) * 0.5);
  height: calc(var(--w) * 0.5);
  backface-visibility: hidden;
  transition-property: all;
  transition-duration: var(--easing-time);
  transition-timing-function: var(--easing);
  transition-delay: calc(var(--box-open-delay) * 1s);
  background: linear-gradient(
    45deg,
    var(--box-col1) 0%,
    var(--box-col2) 0%,
    var(--box-col2) 5%,
    var(--box-col1) 5%,
    var(--box-col1) 10%,
    var(--box-col2) 10%,
    var(--box-col2) 15%,
    var(--box-col1) 15%,
    var(--box-col1) 20%,
    var(--box-col2) 20%,
    var(--box-col2) 25%,
    var(--box-col1) 25%,
    var(--box-col1) 30%,
    var(--box-col2) 30%,
    var(--box-col2) 35%,
    var(--box-col1) 35%,
    var(--box-col1) 40%,
    var(--box-col2) 40%,
    var(--box-col2) 45%,
    var(--box-col1) 45%,
    var(--box-col1) 50%,
    var(--box-col2) 50%,
    var(--box-col2) 55%,
    var(--box-col1) 55%,
    var(--box-col1) 60%,
    var(--box-col2) 60%,
    var(--box-col2) 65%,
    var(--box-col1) 65%,
    var(--box-col1) 70%,
    var(--box-col2) 70%,
    var(--box-col2) 75%,
    var(--box-col1) 75%,
    var(--box-col1) 80%,
    var(--box-col2) 80%,
    var(--box-col2) 85%,
    var(--box-col1) 85%,
    var(--box-col1) 90%,
    var(--box-col2) 90%,
    var(--box-col2) 95%,
    var(--box-col1) 95%,
    var(--box-col1) 100%
  );
}

.face1 {
  transform: translate3d(0, 0, calc(var(--w) * 0.25));
}

.in1 {
  background: var(--box-col4);
  transform: translate3d(0, 0, calc(var(--w) * 0.25)) rotateY(180deg);
}

.face2 {
  transform: translate3d(0, 0, calc(var(--w) * -0.25)) rotateY(180deg);
}

.in2 {
  background: var(--box-col4);
  backface-visibility: visible;
  transform: translate3d(0, 0, calc(var(--w) * -0.25));
}

.face3 {
  transform: rotateY(-90deg) translate3d(0, 0, calc(var(--w) * 0.25));
}

.in3 {
  background: var(--box-col3);
  transform: rotateY(-90deg) translate3d(0, 0, calc(var(--w) * 0.25)) rotateY(180deg);
}

.face4 {
  transform: rotateY(90deg) translate3d(0, 0, calc(var(--w) * 0.25));
}

.in4 {
  background: var(--box-col3);
  transform: rotateY(90deg) translate3d(0, 0, calc(var(--w) * 0.25)) rotateY(180deg);
}

.face5 {
  transform-origin: 50% 0%;
  transform: translate3d(0, 0, calc(var(--w) * -0.25)) rotateX(var(--cover-open));
}

.in5 {
  background: var(--box-col3);
  transform: translate3d(0, 0, calc(var(--w) * -0.25)) rotateX(var(--cover-open)) rotateY(180deg);
}

.starGroup {
  position: absolute;
  left: 0;
  bottom: calc(0.1 * var(--h));
  width: var(--w);
  height: var(--h);
  transition-property: all;
  transition-duration: calc(var(--easing-time) * 1.1);
  transition-timing-function: linear;
  opacity: var(--scale);
  transition-delay: calc(var(--box-open-delay) * 2.5s);
}

.star {
  position: absolute;
  height: calc(var(--w) * 0.1);
  width: calc(var(--w) * 0.1);
  background: var(--star-col);
  animation-name: starAniKey;
  animation-duration: 1.5s;
  animation-iteration-count: infinite;
  animation-timing-function: cubic-bezier(0.25, 0, 0.75, 1);
  clip-path: polygon(
    50% 0%,
    55% 45%,
    100% 50%,
    55% 55%,
    50% 100%,
    45% 55%,
    0% 50%,
    45% 45%,
    50% 0%
  );
}

.star1 {
  --star-scale: 1;
  animation-delay: -0.5s;
  left: calc(var(--w) * 0.39);
  top: calc(var(--w) * 0.51);
}

.star2 {
  --star-scale: 1.5;
  animation-delay: -0.9s;
  left: calc(var(--w) * 0.55);
  top: calc(var(--w) * 0.75);
}

.star3 {
  --star-scale: 0.5;
  animation-delay: -1.4s;
  left: calc(var(--w) * 0.27);
  top: calc(var(--w) * 0.83);
}

.star4 {
  --star-scale: 1.1;
  animation-delay: -2s;
  left: calc(var(--w) * 0.5);
  top: calc(var(--w) * 1.1);
}

.star5 {
  --star-scale: 1.3;
  animation-delay: -2.65s;
  left: calc(var(--w) * 0.14);
  top: calc(var(--w) * 1.2);
}

.star6 {
  --star-scale: 0.7;
  animation-delay: -3s;
  left: calc(var(--w) * 0.82);
  top: calc(var(--w) * 1.35);
}

.star7 {
  --star-scale: 1;
  animation-delay: -3.5s;
  left: calc(var(--w) * 0.55);
  top: calc(var(--w) * 1.45);
}

.text {
  position: absolute;
  font-weight: 1000;
  transition-property: all;
  transition-duration: calc(var(--easing-time) * 1.1);
  transition-timing-function: var(--easing);
  transition-delay: 0;
}

.text1 {
  width: 100%;
  bottom: calc(var(--w) * 0.65);
  font-size: 30px;
  text-align: center;
  color: white;
  opacity: calc(1 - var(--scale));
}

.text2 {
  width: 200%;
  left: -25%;
  bottom: calc(var(--w) * 1.7);
  font-size: 40px;
  color: white;
  opacity: var(--scale);
  transform: scale(var(--scale));
  transition-timing-function: cubic-bezier(0.2, 1.5, 0.7, 1);
  transition-delay: calc(var(--box-open-delay) * 2.5s);
}

.text3 {
  position: absolute;
  width: 100%;
  left: 50%;
  transform: translateX(-50%) scale(var(--scale));
  bottom: calc(var(--w) * -0.9);
  font-size: 35px;
  color: #ff69b4;
  text-align: center;
  opacity: var(--scale);
  transition-timing-function: cubic-bezier(0.2, 1.5, 0.7, 1);
  transition-delay: calc(var(--box-open-delay) * 3s);
  text-shadow: 0 0 10px rgba(255, 105, 180, 0.7);
  
}

.fullGroup:hover {
  --easing-time: 0.3s;
  --easing: cubic-bezier(0, 0, 0.2, 1);
  --tree-delay: 1;
  --scale: 1;
  --tree-up: 1;
  --box-rot: 30deg;
  --cover-open: 250deg;
  --box-open-delay: 0.3;
  --box-rot-delay: 0;
  --float: none;
}

@keyframes floatAniKey {
  0%,
  100% {
    transform: translateY(0vh);
  }
  50% {
    transform: translateY(15px);
  }
}

@keyframes starAniKey {
  0%,
  100% {
    transform: scale(0);
  }
  50% {
    transform: scale(var(--star-scale));
  }
}
